model User {
  id        Int      @id @default(autoincrement())
  name      String
  email     String   @unique
  password  String
  role      Role
  teams     Team[]   @relation("TeamMembers")
}

model Club {
  id        Int      @id @default(autoincrement())
  name      String
  teams     Team[]
}

model Team {
  id        Int      @id @default(autoincrement())
  name      String
  category  String
  club      Club     @relation(fields: [clubId], references: [id])
  clubId    Int
  players   Player[]
  matches   Match[]
}

model Player {
  id          Int      @id @default(autoincrement())
  name        String
  age         Int
  dorsal      Int
  position    String
  photo       String?
  medicalNotes String?
  team        Team     @relation(fields: [teamId], references: [id])
  teamId      Int
}

model Match {
  id          Int      @id @default(autoincrement())
  date        DateTime
  homeTeam    Team     @relation("HomeMatches", fields: [homeTeamId], references: [id])
  homeTeamId  Int
  awayTeam    Team     @relation("AwayMatches", fields: [awayTeamId], references: [id])
  awayTeamId  Int
  score       String?
  events      Event[]
}

model Tournament {
  id        Int      @id @default(autoincrement())
  name      String
  teams     Team[]
  matches   Match[]
}

model Event {
  id        Int      @id @default(autoincrement())
  match     Match    @relation(fields: [matchId], references: [id])
  matchId   Int
  type      String
  timestamp DateTime
}

enum Role {
  COACH
  PLAYER
  ADMIN
  REFEREE
  FAN
}